<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
  <title>Admin Cartas Tarot</title>
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
</head>
<body>
  <h1>Añadir Nueva Carta</h1>
  <form id="cardForm">
    <div>
      <label>ID (único):</label>
      <input type="text" id="cardId" required>
    </div>
    
    <div>
      <label>Nombre:</label>
      <input type="text" id="nombre" required>
    </div>
    
    <div>
      <label>Número:</label>
      <input type="number" id="numero" required>
    </div>
    
    <div>
      <label>Significado Directo:</label>
      <textarea id="directo" required></textarea>
    </div>
    
    <div>
      <label>Significado Invertido:</label>
      <textarea id="invertido" required></textarea>
    </div>
    
    <button type="submit">Guardar Carta</button>
  </form>

  <script>
    // Tu configuración Firebase
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "YOUR_AUTH_DOMAIN",
      projectId: "YOUR_PROJECT_ID",
      storageBucket: "YOUR_STORAGE_BUCKET",
      messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
      appId: "YOUR_APP_ID"
    };
    
    // Inicializar Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    
    // Manejar el formulario
    document.getElementById('cardForm').addEventListener('submit', async (e) => {
      e.preventDefault();
      
      const cardData = {
        nombre: document.getElementById('nombre').value,
        numero: parseInt(document.getElementById('numero').value),
        significado: {
          directo: document.getElementById('directo').value,
          invertido: document.getElementById('invertido').value
        },
        updatedAt: new Date()
      };
      
      const cardId = document.getElementById('cardId').value;
      
      try {
        await db.collection('cards').doc(cardId).set(cardData);
        alert('Carta guardada correctamente!');
        e.target.reset();
      } catch (error) {
        alert('Error al guardar: ' + error.message);
      }
    });
  </script>
</body>
</html>